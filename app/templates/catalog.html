<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Catalog Page</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/catalog.css') }}">
  <script type="text/javascript" src="{{ url_for('static', filename='scripts_js/catalog.js') }}"></script>
</head>
<body>
  <!-- Top Navigation Menu -->
  <nav class="top-menu">
    <div class="dropdown">
      <button class="dropbtn" onclick="toggleDropdown()">Categories</button>
      <div id="categoryDropdown" class="dropdown-content">
        <!-- Category items will be populated here -->
      </div>
    </div>

    <!-- Search Bar -->
    <!-- Search Bar -->
    <div class="search-bar">
      <input type="text" id="search" placeholder="Search for a laptop..." oninput="handleAutocomplete()" autocomplete="off">
      <ul id="autocomplete-list" class="autocomplete-box"></ul>
      <button onclick="searchLaptops()">Search</button>
    </div>


    <!-- Navigation Links -->
    <div class="nav-links">
      <a href="/catalog" class="menu-item active">Catalog</a>
      <a href="/cart" class="menu-item">Cart</a>
      <a href="/myaccount" class="menu-item">My Account</a>
      <a href="/signout" class="menu-item">Sign out</a>
    </div>
  </nav>

  <!-- Main Content Wrapper -->
  <div class="content">
  <section class="catalog">
    <div class="catalog-container">
      <div id="laptop-list">
        {% for laptop in laptops %}
          <div class="laptop-card" onclick="window.location.href='/laptop/{{ laptop.LaptopID }}'">
            <img src="/static/assets/laptop_pictures/{{ laptop.LaptopID }}.jpg" onerror="this.src='/static/assets/laptop_pictures/default.jpg'" alt="{{ laptop.ModelName }}">
            <h4>{{ laptop.ModelName }}</h4>
            <p>Price: {{ laptop.Price }} Lei</p>
            <button onclick="event.stopPropagation(); addToCart('{{ laptop.LaptopID }}')">Add to Cart</button>
          </div>
        {% endfor %}
      </div>
      
    </div>
  </section>
</div>
  <script>
    const laptopImageUrl = "{{ url_for('static', filename='assets/laptop_pictures/asus 2.jpg') }}";
  </script>


</body>
</html>
